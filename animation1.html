<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="apple-mobile-web-app-capable" content="yes" /><!-- 删除苹果默认的工具栏和菜单栏 -->
  <meta name="apple-mobile-web-app-status-bar-style" content="black" /><!-- 设置苹果工具栏颜色 -->
  <meta name="format-detection" content="telephone=no, email=no" />
  <title>无序运动动画</title>
  <style>
    body,
    html {
      padding: 0px;
      margin: 0px;
    }
  </style>

<body>
  <canvas id="canvas"></canvas>
  <script>
    var canvas = document.querySelector("#canvas")
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    ctx = canvas.getContext("2d")
    function getRandom(x, y) {
      const random = Math.floor(Math.random() * (x - y + 1)) + y
      return random
    }
    const randomColor = ['#7840e6', '#ea65e6', '#57c8f3', '#57f36a', '#4b9020']

    function Ball(x, y, radius) {
      this.x = x
      this.y = y
      this.dY = 1
      this.dX = 1
      this.radius = radius
      const random = getRandom(4, 0)
      ctx.fillStyle = randomColor[random]

      this.update = function () {
        ctx.beginPath()


        ctx.arc(this.x, this.y, this.radius, 2 * Math.PI, false)

        if ((this.y + this.radius) > canvas.height) {
          this.dY = -1
        } else if (this.radius > this.y) {
          // console.log(2222222222222222)
          this.dY = 1
        }
        if (this.dY > 0) {
          this.y += 10
        } else {
          this.y -= 10
        }

        if ((this.x + this.radius) > canvas.width) {
          this.dX = -1
        } else if (this.radius > this.y) {
          // console.log(2222222222222222)
          this.dX = 1
        }
        if (this.dX > 0) {
          this.x += 10
        } else {
          this.x -= 10
        }

        ctx.arc(this.x, this.y, this.radius, 2 * Math.PI, false)
        // console.log(random)

        ctx.fill()

      }
    }

    ball = new Ball(100, 100, 20)



    function animation() {

      ctx.clearRect(0, 0, canvas.width, canvas.height)

      requestAnimationFrame(animation)

      ball.update()
    }
    animation()
  </script>
</body>

</html>